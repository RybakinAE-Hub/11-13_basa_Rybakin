# Домашнее задание к занятию «Резервное копирование баз данных» - Рыбакин Алексей

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.
1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.
1.3. Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

* Приведите ответ в свободной форме.

1. Востановление данных в полном объёме за последний день, Надо использовать либо полный бекап (если есть достаточно памяти для сохнанения) либо деференциальный (он копит все данные с последнего полного сохранения)
2. Хороший вариан с репликацией базы данных.Просто переключение на работающую базы до востановления поломки. Либо транзакционные журналы. С нимиможно востановить базу данных на момент поломки.
3. Да. Возможно. При условии что настроена репликация базы данных

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

*Приведите ответ в свободной форме.*

1. Выгрузить базу `$ pg_dump -Fc mydb > db.dump` 
Востановить базу `$ pg_restore -d mydb --clean --create db.dump`

2. Да, этот процесс можно автоматизировать с помощью скриптов и планировщиков задач

---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 
1. `mysqldump --user=username --password=password --host=hostname --single-transaction --incremental --incremental-basedir=/path/to/incremental/directory dbname > /path/to/dumpfile.sql`пользователь-пароль-хост-...опции...-имя БД>куда сохранять.

3.1.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?

*Приведите ответ в свободной форме.*
